<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GALLA</title>
    <link rel="stylesheet" href="css/index.css" />
</head>

<body data-page="index">
<div id="app">

    <!-- HEADER -->
    <header class="header">
        <div class="header-inner">
            <img src="assets/logo.png" alt="GALLA" class="logo" onclick="location.href='index.html'" />

            <div class="auth-buttons" id="authButtons">
                <!-- ë¡œê·¸ì¸ ì „ -->
                <button onclick="location.href='login.html'" id="loginBtn">ë¡œê·¸ì¸</button>
                <button onclick="location.href='signup.html'" id="signupBtn">íšŒì›ê°€ì…</button>

                <!-- ë¡œê·¸ì¸ í›„ (JSì—ì„œ í‘œì‹œ ì „í™˜) -->
                <button onclick="location.href='mypage.html'" id="mypageBtn" style="display:none;">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
    </header>

    <!-- HERO -->
    <section class="hero">
        <h1 class="hero-title">ì§€ê¸ˆ, ëŒ€í•œë¯¼êµ­ì˜ ì§„ì§œ ì—¬ë¡ </h1>
        <p class="hero-desc">ì§„ì˜ì„ ì„ íƒí•˜ê³  ì˜ê²¬ì„ ë˜ì§€ê³ , ì‹¸ìš°ê³ , í›„ì›í•˜ë¼.</p>
    </section>

    <!-- CATEGORY -->
    <section class="category-section">
        <div class="chip-scroll">
            <div class="chip active" onclick="location.href='search.html?category=ì „ì²´'">ì „ì²´</div>
            <div class="chip" onclick="location.href='search.html?category=ì •ì¹˜Â·ì‚¬íšŒ'">ì •ì¹˜Â·ì‚¬íšŒ</div>
            <div class="chip" onclick="location.href='search.html?category=ê²½ì œÂ·íˆ¬ì'">ê²½ì œÂ·íˆ¬ì</div>
            <div class="chip" onclick="location.href='search.html?category=ì§ì¥Â·ê²½ë ¥'">ì§ì¥Â·ê²½ë ¥</div>
            <div class="chip" onclick="location.href='search.html?category=ì—°ì• Â·ê²°í˜¼'">ì—°ì• Â·ê²°í˜¼</div>
            <div class="chip" onclick="location.href='search.html?category=ìƒí™œÂ·ì¼ìƒ'">ìƒí™œÂ·ì¼ìƒ</div>
            <div class="chip" onclick="location.href='search.html?category=íŒ¨ì…˜Â·ë·°í‹°'">íŒ¨ì…˜Â·ë·°í‹°</div>
            <div class="chip" onclick="location.href='search.html?category=ì—”í„°Â·ìŠ¤í¬ì¸ '">ì—”í„°Â·ìŠ¤í¬ì¸ </div>
            <div class="chip" onclick="location.href='search.html?category=ì„¸ê³„Â·ì—¬í–‰'">ì„¸ê³„Â·ì—¬í–‰</div>
            <div class="chip" onclick="location.href='search.html?category=ìŒì‹Â·ë§›ì§‘'">ìŒì‹Â·ë§›ì§‘</div>
            <div class="chip" onclick="location.href='search.html?category=19ê¸ˆ'">19ê¸ˆ</div>
            <div class="chip" onclick="location.href='search.html?category=ê¸°íƒ€'">ê¸°íƒ€</div>
        </div>
    </section>

    <!-- BEST -->
    <section class="section">
        <div class="section-title">ğŸ”¥ ë² ìŠ¤íŠ¸ ê°ˆë¼</div>
        <div id="best-list"></div>
        <button id="best-more" class="more-list-btn" onclick="location.href='search.html?type=best'">ë”ë³´ê¸°</button>
    </section>

    <!-- RECOMMENDED -->
    <section class="section">
        <div class="section-title">â­ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ê°ˆë¼</div>
        <div id="recommend-list"></div>
    </section>

    <!-- NAVIGATION -->
    <nav class="nav">
        <div class="nav-inner">
            <img src="assets/icons/nav-home.svg" class="nav-icon" onclick="location.href='index.html'" />
            <img src="assets/icons/nav-search.svg" class="nav-icon" onclick="location.href='search.html'" />
            <img src="assets/icons/nav-write.svg" class="nav-icon" onclick="location.href='write.html'" />
            <img src="assets/icons/nav-random.svg" class="nav-icon" onclick="location.href='random.html'" />
            <img src="assets/icons/nav-user.svg" class="nav-icon" onclick="location.href='mypage.html'" />
        </div>
    </nav>

</div>

<!-- Supabase JS -->
<script src="https://esm.sh/@supabase/supabase-js@2"></script>
<script src="js/supabase.js"></script>

<script>
// ----------------------------
// ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ UI ë³€ê²½
// ----------------------------
document.addEventListener("DOMContentLoaded", async () => {
    const { data } = await supabase.auth.getSession();
    const session = data.session;

    const loginBtn = document.getElementById("loginBtn");
    const signupBtn = document.getElementById("signupBtn");
    const mypageBtn = document.getElementById("mypageBtn");

    if (session?.user) {
        // ë¡œê·¸ì¸ ìƒíƒœ
        loginBtn.style.display = "none";
        signupBtn.style.display = "none";
        mypageBtn.style.display = "inline-block";
    } else {
        // ë¡œê·¸ì•„ì›ƒ ìƒíƒœ
        loginBtn.style.display = "inline-block";
        signupBtn.style.display = "inline-block";
        mypageBtn.style.display = "none";
    }
});
</script>

<!-- ê¸°ì¡´ index.js ìœ ì§€ -->
<script src="js/index.js"></script>

</body>
</html>