<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>GALLA</title>

    <link rel="stylesheet" href="css/index.css" />
    <link rel="stylesheet" href="css/shorts.css" />
    <link rel="stylesheet" href="./css/nav.css">

</head>

<body data-page="index">
<div id="app">

    <!-- HEADER -->
    <header class="header">
        <div class="header-inner">
            <img src="assets/logo.png" alt="GALLA" class="logo"
                 onclick="location.href='index.html'" />

            <!-- ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ ì „í™˜ UI -->
            <div class="auth-buttons">
                <!-- ë¡œê·¸ì¸ ì „ -->
                <button id="headerLoginBtn" onclick="location.href='login.html'">ë¡œê·¸ì¸</button>
                <button id="headerSignupBtn" onclick="location.href='signup.html'">íšŒì›ê°€ì…</button>

                <!-- ë¡œê·¸ì¸ í›„ -->
                <button id="headerMypageBtn" onclick="location.href='mypage.html'" style="display:none;">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
    </header>

    <!-- HERO -->
    <section class="hero">
        <h1 class="hero-title">ì§€ê¸ˆ, ëŒ€í•œë¯¼êµ­ì˜ ì§„ì§œ ì—¬ë¡ </h1>
        <p class="hero-desc">ì§„ì˜ì„ ì„ íƒí•˜ê³  ì˜ê²¬ì„ ë˜ì§€ê³ , ì‹¸ìš°ê³ , í›„ì›í•˜ë¼.</p>
    </section>

    <!-- CATEGORY -->
    <section class="category-section">
        <div class="chip-scroll">
            <div class="chip active" onclick="location.href='search.html?category=ì „ì²´'">ì „ì²´</div>
            <div class="chip" onclick="location.href='search.html?category=ì •ì¹˜Â·ì‚¬íšŒ'">ì •ì¹˜Â·ì‚¬íšŒ</div>
            <div class="chip" onclick="location.href='search.html?category=ê²½ì œÂ·íˆ¬ì'">ê²½ì œÂ·íˆ¬ì</div>
            <div class="chip" onclick="location.href='search.html?category=ì§ì¥Â·ê²½ë ¥'">ì§ì¥Â·ê²½ë ¥</div>
            <div class="chip" onclick="location.href='search.html?category=ì—°ì• Â·ê²°í˜¼'">ì—°ì• Â·ê²°í˜¼</div>
            <div class="chip" onclick="location.href='search.html?category=ìƒí™œÂ·ì¼ìƒ'">ìƒí™œÂ·ì¼ìƒ</div>
            <div class="chip" onclick="location.href='search.html?category=íŒ¨ì…˜Â·ë·°í‹°'">íŒ¨ì…˜Â·ë·°í‹°</div>
            <div class="chip" onclick="location.href='search.html?category=ì—”í„°Â·ìŠ¤í¬ì¸ '">ì—”í„°Â·ìŠ¤í¬ì¸ </div>
            <div class="chip" onclick="location.href='search.html?category=ì„¸ê³„Â·ì—¬í–‰'">ì„¸ê³„Â·ì—¬í–‰</div>
            <div class="chip" onclick="location.href='search.html?category=ìŒì‹Â·ë§›ì§‘'">ìŒì‹Â·ë§›ì§‘</div>
            <div class="chip" onclick="location.href='search.html?category=19ê¸ˆ'">19ê¸ˆ</div>
            <div class="chip" onclick="location.href='search.html?category=ê¸°íƒ€'">ê¸°íƒ€</div>
        </div>
    </section>

    <!-- BEST -->
    <section class="section">
        <div class="section-title">ğŸ”¥ ë² ìŠ¤íŠ¸ ê°ˆë¼</div>
        <div id="best-list"></div>
        <button id="best-more" class="more-list-btn" onclick="location.href='search.html?type=best'">ë”ë³´ê¸°</button>
    </section>

    <!-- RECOMMENDED -->
    <section class="section">
        <div class="section-title">â­ ì˜¤ëŠ˜ì˜ ì¶”ì²œ ê°ˆë¼</div>
        <div id="recommend-list"></div>
    </section>


</div> <!-- #app ë‹«í˜ -->

    <!-- NAVIGATION -->
    <nav class="nav">
      <div class="nav-inner">

        <button class="nav-item" data-page="index" data-target="index.html">
          <img src="./assets/icons/nav-home.svg"
               data-base="./assets/icons/nav-home.svg"
               data-active="./assets/icons/nav-home-active.svg">
        </button>

        <button class="nav-item" data-page="search" data-target="search.html">
          <img src="./assets/icons/nav-search.svg"
               data-base="./assets/icons/nav-search.svg"
               data-active="./assets/icons/nav-search-active.svg">
        </button>

        <button class="nav-item" data-page="write" data-target="write.html">
          <img src="./assets/icons/nav-write.svg"
               data-base="./assets/icons/nav-write.svg"
               data-active="./assets/icons/nav-write-active.svg">
        </button>

        <button class="nav-item" data-page="plaza" data-target="plaza.html">
          <img src="./assets/icons/nav-plaza.svg"
               data-base="./assets/icons/nav-plaza.svg"
               data-active="./assets/icons/nav-plaza-active.svg">
        </button>

        <button class="nav-item" data-page="mypage" data-target="mypage.html">
          <img src="./assets/icons/nav-user.svg"
               data-base="./assets/icons/nav-user.svg"
               data-active="./assets/icons/nav-user-active.svg">
        </button>

      </div>
    </nav>

    <!-- SHORTS OVERLAY (REAL REELS ENGINE) -->
    <div id="shortsOverlay" hidden></div>


<!-- ğŸ”´ ì—¬ê¸°ë¶€í„° ì¶”ê°€ -->
<div id="modal" class="modal">
    <div class="modal-content">
        <p id="modal-text"></p>
        <button id="modal-close">í™•ì¸</button>
    </div>
</div>
<!-- ğŸ”´ ì—¬ê¸°ê¹Œì§€ ì¶”ê°€ -->

<!-- Supabase Loader -->
<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/dist/umd/supabase.js"></script>
<script src="js/supabase.js"></script>

<script>
/* ============================================================
   ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¼ UI ìë™ ë³€ê²½ (ëª¨ë“  í˜ì´ì§€ ê³µí†µ ì‚¬ìš©)
============================================================ */
document.addEventListener("DOMContentLoaded", async () => {

    // supabaseClient ë¡œë“œ ëŒ€ê¸°
    function waitForSupabase() {
        return new Promise(resolve => {
            const timer = setInterval(() => {
                if (window.supabaseClient) {
                    clearInterval(timer);
                    resolve();
                }
            }, 20);
        });
    }

    await waitForSupabase();
    const supabase = window.supabaseClient;

    const { data } = await supabase.auth.getSession();
    const session = data.session;

    const btnLogin = document.getElementById("headerLoginBtn");
    const btnSignup = document.getElementById("headerSignupBtn");
    const btnMypage = document.getElementById("headerMypageBtn");

    if (session?.user) {
        // ë¡œê·¸ì¸ ìƒíƒœ
        btnLogin.style.display = "none";
        btnSignup.style.display = "none";
        btnMypage.style.display = "inline-block";
    } else {
        // ë¡œê·¸ì•„ì›ƒ ìƒíƒœ
        btnLogin.style.display = "inline-block";
        btnSignup.style.display = "inline-block";
        btnMypage.style.display = "none";
    }

});
</script>

<!-- ğŸ”¥ğŸ”¥ğŸ”¥ ì—¬ê¸° ì¶”ê°€ (ì¤‘ìš”) ğŸ”¥ğŸ”¥ğŸ”¥ -->

<script type="module" src="js/vote.core.js"></script>
<script src="js/shorts.js"></script>

<script src="js/index.js"></script>

</body>
<script src="./js/nav.js"></script>



</html>