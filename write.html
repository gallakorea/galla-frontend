<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>새 갈라 만들기 - GALLA</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="./css/write.css" />
</head>
<body>

<div class="app-root">

<header class="header">
  <h1 class="logo">GALLA</h1>
</header>

<main class="page-main">
<form id="writeForm" class="write-form">

  <!-- CATEGORY -->
  <label>카테고리 (필수)</label>
  <select id="category" required>
    <option value="">선택</option>
    <option>정치·사회</option>
    <option>경제·투자</option>
    <option>직장·경력</option>
    <option>연애·결혼</option>
    <option>생활·일상</option>
    <option>패션·뷰티</option>
    <option>엔터·스포츠</option>
    <option>세계·여행</option>
    <option>음식·맛집</option>
    <option>19금</option>
    <option>기타</option>
  </select>

  <!-- TITLE -->
  <label>제목 (필수)</label>
  <input id="title" maxlength="80" required />

  <!-- ONE LINE -->
  <label>발의자 한 줄 (필수)</label>
  <input id="oneLine" required />

  <!-- THUMBNAIL -->
  <label>썸네일 (필수)</label>
  <input type="file" id="thumbnail" accept="image/*" hidden />
  <button type="button" id="thumbnailBtn">이미지 업로드</button>

  <!-- VIDEO -->
  <label>1분 엘리베이터 스피치 (선택)</label>
  <input type="file" id="videoInput" accept="video/*" hidden />
  <button type="button" id="videoBtn">영상 업로드</button>

  <!-- DESCRIPTION -->
  <label>이슈 설명 (필수) <span class="desc-counter">0 / 500</span></label>
  <textarea id="description" maxlength="500" required></textarea>

  <button type="button" id="openAiModal">✨ AI 글 다듬기</button>

  <button type="submit" class="submit-btn">갈라 발의하기</button>

</form>
</main>

<!-- AI MODAL -->
<div id="aiModal" class="modal hidden">
  <div class="modal-box">
    <h2>AI 글 다듬기</h2>

    <div class="ai-style-tabs">
      <button data-style="basic" class="active">기본</button>
      <button data-style="simple">간결</button>
      <button data-style="power">강렬</button>
      <button data-style="emotional">감성</button>
      <button data-style="expert">전문가</button>
    </div>

    <label>AI에게 직접 요청 (선택)</label>
    <input id="aiCustomPrompt" placeholder="예: 반대 의견 포함해서 정리" />

    <div class="ai-compare">
      <textarea id="aiUserText"></textarea>
      <textarea id="aiImprovedText"></textarea>
    </div>

    <button id="runAi">AI 실행</button>
    <button id="applyAiText">적용</button>
    <button id="aiCloseBtn">닫기</button>
  </div>
</div>

<script src="https://esm.sh/@supabase/supabase-js@2"></script>
<script src="./js/supabase.js"></script>
<script src="./js/write.js"></script>

</body>
</html>